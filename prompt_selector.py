import torch
import os
import random
from typing import Dict, Any, List, Tuple, Optional
import re

class PromptSelectorDoubleCHAOS:
    """
    双人提示词选择器 - 根据mode_code(0-15)选择对应提示词
    
    输入框命名规则：
    - 双人模式 (0-15):
      FF_portrait: 女性组合-肖像模式 (0)
      FF_half: 女性组合-半身模式 (1)
      FF_full: 女性组合-全身模式 (2)
      FF_custom: 女性组合-自定义模式 (3)
      FM_portrait: 左女右男-肖像模式 (4)
      ...
    
    使用方法：
    1. 将Face AutoFit Double节点的mode_code连接到本节点的mode_code
    2. 在对应的提示词输入框中输入提示词（每行一个）
    3. 选择随机或固定模式
    4. 如果选择固定模式，设置固定索引
    """
    
    @classmethod
    def INPUT_TYPES(cls):
        return {
            "required": {
                "mode_code": ("INT", {"default": 0, "min": 0, "max": 15}),
                "selection_mode": (["random", "fixed"], {"default": "random"}),
                "fixed_index": ("INT", {"default": 0, "min": 0, "max": 100}),
                "seed": ("INT", {"default": -1}),
                
                # 女性组合提示词
                "FF_portrait": ("STRING", {"default": "A fashionable portrait captures two female celebrities, positioned side-by-side with one on the left and the other on the right. They both exude a stylish and playful charm in their fashionable and cute attire. The clothing might involve trendy dresses, stylish separates, or a mix of both, chosen to complement their individual styles and create a harmonious overall look. Soft, diffused lighting enhances their features and creates a warm, inviting atmosphere. Their poses are relaxed yet stylish, conveying a sense of effortless cool and camaraderie. The background is a smooth, solid-colored backdrop, perhaps a pastel shade or a more vibrant hue that complements their outfits, ensuring the focus remains on the two stars and their fashionable presence. The overall impression is one of modern glamour, playful sophistication, and the vibrant energy of these two fashionable icons.\nA casual yet stylish upper-body portrait captures two female celebrities, positioned side-by-side, with one on the left and the other on the right. They are dressed in relaxed yet fashionable outfits, perhaps a mix of trendy separates or stylishly casual dresses, exuding effortless cool. The lighting is bright and even, typical of a television studio, while still maintaining a flattering and natural look. Their poses are relaxed and engaging, perhaps mid-conversation or sharing a lighthearted moment, reflecting a comfortable and friendly dynamic. The background subtly features elements of a television studio – perhaps blurred monitors, lighting equipment, or a glimpse of a news desk – suggesting a behind-the-scenes glimpse into their professional lives. The overall impression is one of effortless glamour, sophisticated casualness, and a captivating glimpse into the personalities of these two stars in a professional yet relaxed setting.\nImagine a natural,  two women standing side by side in an outdoor setting, their attire casual yet vibrant. Both are wearing colorful t-shirts with the word 'CHAOS' printed boldly across the chest, adding a playful and edgy touch to their look. The woman on the left might be in a warm orange t-shirt, while her companion on the right could be wearing a cool teal one, their colors complementing each other beautifully.Their hairstyles are relaxed and natural, perhaps one with her hair loosely tied back and the other with a carefree, wind-swept look. Their expressions are genuine and friendly, with soft smiles that suggest a shared moment of joy or an inside joke.The background is an outdoor scene, softly blurred to keep the focus on the women but still providing a sense of place. It could be a park with lush greenery, a city street with buildings and pedestrians in the distance, or a beach with the hint of waves and sky. The lighting is natural, suggesting a sunny day, with the sunlight casting gentle shadows and highlighting the colors of their t-shirts.The overall composition is balanced, with the women positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the setting. The image captures a moment of genuine connection and enjoyment, set against the backdrop of a day spent outdoors, blending the subjects seamlessly with their environment.\nVisualize a natural, full-body portrait of two young female students standing together in a classroom bathed in soft, natural light. They are dressed in neat school uniforms that include dark blazers adorned with their school's emblem, signifying a sense of pride and belonging. Underneath, they wear crisp white shirts, each neatly tied with a ribbon, adding a touch of elegance to their attire.Their hairstyles are tidy and school-appropriate, perhaps one with her hair pulled back into a neat ponytail and the other with a classic bob that frames her face. Their expressions are bright and youthful, with gentle smiles that convey the innocence and optimism of their age.The classroom setting is visible but softly blurred, creating a gentle backdrop that allows the focus to remain on the students. The background might include rows of desks arranged neatly, a chalkboard filled with lessons, and large windows that let in streams of sunlight, casting a warm glow on the scene. The outdoor elements visible through the windows suggest a serene schoolyard, with perhaps the hint of trees or a playground, adding depth to the setting.The overall composition is harmonious, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the familiar environment of their classroom. The image captures a moment of academic life, blending the subjects seamlessly with their educational surroundings, and evoking a sense of youthful ambition and camaraderie.\nEnvision a professional, full-body portrait capturing two brides standing elegantly side by side, their postures poised and serene. Both brides are adorned in pristine white wedding gowns that exude a sense of grace and sophistication. The gowns might feature intricate lace detailing, delicate beading, or flowing skirts that add a dreamy quality to their appearance.Their hairstyles are meticulously styled to complement their bridal look, perhaps one with a romantic half-up, half-down hairstyle that frames her face elegantly, and the other with a classic updo that showcases her neckline. Soft, natural makeup enhances their features, with a focus on highlighting their eyes and a gentle blush that brings a warm glow to their cheeks.The setting is outdoors, with a stage-like backdrop that is softly blurred, allowing the focus to remain on the brides while still providing a sense of location. The stage might be decorated with elegant drapery, floral arrangements, or subtle lighting that adds a touch of magic to the scene. The outdoor elements, such as the hint of a garden or a picturesque landscape, contribute to the overall ambiance of celebration and elegance.The lighting is natural and flattering, suggesting a sunny day with soft shadows that accentuate the contours of their gowns and faces. The overall composition is balanced and harmonious, with the brides positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their expressions are joyful and content, reflecting the happiness of their special day.This image captures a moment of shared joy and elegance, set against the backdrop of a beautiful outdoor stage, creating a snapshot that is both personal and universally relatable, encapsulating the beauty and emotion of a wedding day.", "multiline": True}),
                "FF_half": ("STRING", {"default": "A half-body portrait captures two young women in elegant attire. Their outfits, classic and tasteful, accentuate their figures with understated sophistication. The image emphasizes a clean, artistic aesthetic with careful attention to composition. The background features subtle, out-of-focus details that add context without distraction. Their expressions are poised and confident, yet their poses suggest a natural comfort with each other. Soft, natural lighting illuminates their faces, highlighting their youth and natural beauty. The overall impression is one of quiet grace, feminine strength, and a subtle blend of formal elegance and artistic sensitivity.\nA half-body portrait captures two female students in crisp school uniforms standing in a sunlit classroom. Their uniforms feature dark blazers with school emblems, white shirts with neatly tied ribbons, and pleated skirts. One girl has her hair in a practical ponytail, while the other wears hers in a neat bob. They stand close together, perhaps one with her arm around the other's shoulder, suggesting friendship and camaraderie. The classroom setting is visible but softly blurred - rows of desks, a chalkboard, and large windows letting in streams of natural light. Their expressions are youthful and bright, with genuine smiles that convey academic optimism and the special bond of school friendship. The overall impression is one of youthful innocence, academic pride, and the meaningful connections formed during school years.\nA professional half-body portrait shows two brides standing side-by-side, the first on the left and the second on the right. Both are radiant in their white wedding gowns; the fabric and details of the dresses are subtly highlighted by soft, natural lighting. Their postures are elegant and composed, conveying a sense of joy and shared happiness. Their expressions are warm and genuine, reflecting their connection and the significance of the occasion. The outdoor environment is visible but softly blurred, creating a dreamy, romantic atmosphere. Hints of nature—perhaps lush greenery, a scenic vista, or a softly lit sky—are discernible but not sharply defined, allowing the focus to remain on the brides and their wedding attire. The overall impression is one of timeless elegance, shared joy, and the celebration of love and commitment, captured in a beautifully softened outdoor setting.\nCapture a half-body portrait of two stylish young women enjoying a leisurely stroll through a bustling shopping mall. They are dressed in trendy, contemporary outfits that reflect their unique fashion sense. One woman sports a chic pair of high-waisted jeans paired with a vibrant crop top, while the other opts for a flowing midi skirt and a fitted blazer. Their outfits are complemented by trendy accessories like statement sunglasses and bold earrings, adding a touch of glamour to their ensembles.Their hairstyles are equally fashionable, with one sporting a sleek, straight fringe and the other showcasing soft waves that frame her face. They walk side by side, perhaps with one's arm linked through the other's, symbolizing their close friendship and shared enjoyment of the shopping experience.The mall setting forms a lively backdrop, with softly blurred images of store fronts, bright display windows, and the occasional passerby adding to the dynamic atmosphere. Large, modern light fixtures cast a warm glow on the scene, highlighting the women's radiant expressions. Their smiles are genuine and lively, conveying a sense of joy and the special bond formed through shared experiences.The overall impression is one of youthful exuberance, fashion-forward style, and the meaningful connections that thrive in the vibrant setting of a modern shopping mall.\nA professional half-body portrait captures two women standing side-by-side, the first on the left and the second on the right. Both are wearing brightly colored t-shirts and light-wash jeans, their casual attire conveying a sense of youthful energy and effortless style. Their postures are relaxed and natural, perhaps engaged in light conversation or sharing a smile. The background is a bustling pedestrian street, but the details are softly blurred, creating a dreamy, atmospheric effect. Hints of shops, streetlights, or passersby are visible, but not sharply defined, keeping the focus firmly on the two women. The overall impression is one of casual chic, youthful vibrancy, and a connection shared within a lively urban environment. The professional lighting and composition ensure a polished, high-quality image.", "multiline": True}),
                "FF_full": ("STRING", {"default": "Envision a full-body portrait of two fashionable young women strolling confidently through a modern shopping mall. They are dressed in stylish, on-trend attire that showcases their individual tastes. The first girl is wearing a chic, oversized sweater paired with high-waisted leggings and trendy sneakers, her outfit accentuated by a bold statement necklace. Her hair is styled in loose waves that cascade over her shoulders, and she carries a sleek crossbody bag.Her companion opts for a more structured look with a tailored blazer over a graphic tee, matched with slim-fit jeans and ankle boots. Her hair is pulled back into a chic bun, and she accessorizes with minimalist jewelry that complements her outfit.As they walk side by side, their arms are linked, indicating a close friendship. They are smiling and appear to be engaged in a lively conversation, their expressions radiating joy and camaraderie. The mall around them is vibrant, with blurred images of store displays, bright signage, and other shoppers contributing to the lively atmosphere.Large windows allow natural light to flood the space, casting a warm glow on the scene and highlighting the girls' outfits. The overall impression is one of youthful energy, fashion-forward style, and the enjoyment of a day spent shopping with a best friend. This image captures the essence of modern friendship and the pleasure of exploring the latest fashion trends together.\nCreate a full-body portrait of two radiant young women standing side by side, their gazes meeting the camera with a mix of joy and anticipation. They are adorned in elegant white bridal gowns that cascade down to the ground, each with its own unique design. One dress features delicate lace detailing and a flowing skirt, while the other showcases a sleek silhouette with a modest train. Their hair is styled in soft waves, and they wear minimal makeup that enhances their natural beauty.The women are holding hands, symbolizing their bond and shared experience. Their expressions are warm and genuine, reflecting both excitement and a sense of solemnity appropriate for the occasion. They stand against a backdrop that is softly blurred, suggesting an outdoor setting with hints of greenery and perhaps a distant water feature or garden path.The lighting is soft and natural, likely from a setting sun or a cloudy day, casting a gentle glow on the scene and highlighting the intricate details of their dresses. The overall impression is one of elegance, grace, and the special bond between the two women, capturing a moment of pure joy and anticipation on their wedding day. This image is perfect for a bridal magazine feature or a wedding album, encapsulating the beauty and emotion of the occasion.\nCapture a full-body portrait of two radiant young women standing side by side, their gazes meeting the camera with a mix of anticipation and joy. They are adorned in elegant white bridal gowns that cascade down to the floor, each with its unique design elements that add a touch of sophistication and grace. One gown might feature delicate lace detailing, while the other could have a flowing, ethereal skirt that adds a dreamy quality to her appearance.Their hairstyles are meticulously styled, perhaps one with a half-up, half-down look that frames her face beautifully, and the other with a classic updo that showcases her neckline. Soft, natural makeup enhances their features, with a focus on highlighting their eyes and a gentle blush that brings a warm glow to their cheeks.The indoor setting is softly blurred, creating a gentle backdrop that keeps the focus on the girls. The room might be a luxurious bridal suite or a well-lit reception hall, with hints of elegant decor like draped fabrics, floral arrangements, and soft lighting that casts a warm, inviting glow. The overall ambiance is one of celebration and elegance, with the girls' joyful expressions and the pristine white of their gowns standing out against the subtly detailed background.This image captures a moment of shared happiness and the special bond between the two girls, possibly sisters or best friends, as they prepare for a significant event in their lives, surrounded by the beauty and warmth of a carefully curated indoor environment.\nA full-body photo captures two female students in crisp school uniforms standing in a sunlit classroom. Their uniforms feature dark blazers with school emblems, white shirts with neatly tied ribbons, and pleated skirts. One girl has her hair in a practical ponytail, while the other wears hers in a neat bob. They stand close together, perhaps one with her arm around the other's shoulder, suggesting friendship and camaraderie. The classroom setting is visible but softly blurred - rows of desks, a chalkboard, and large windows letting in streams of natural light. Their expressions are youthful and bright, with genuine smiles that convey academic optimism and the special bond of school friendship. The overall impression is one of youthful innocence, academic pride, and the meaningful connections formed during school years.\nEnvision a casual, full-length photograph capturing two women strolling leisurely down a bustling pedestrian street. Both are dressed in vibrant, colorful t-shirts emblazoned with the word 'CHAOS' across the chest in bold, eye-catching letters. Their attire suggests a sense of fun and nonconformity, fitting perfectly with the lively atmosphere of the street.The woman on the left might be wearing a bright blue t-shirt paired with comfortable jeans, while her companion on the right opts for a lively green shirt with similar casual bottoms. Their outfits are completed with practical yet stylish footwear, suitable for a day of walking and exploring.Their hair is styled in a way that is both fashionable and carefree, perhaps one with loose waves and the other in a playful ponytail. They walk naturally, arms linked or hands in pockets, embodying the spirit of friendship and shared adventure. Their expressions are relaxed and content, perhaps sharing a private joke or simply enjoying each other's company.The background is a soft blur of the pedestrian street, allowing the focus to remain on the women while still conveying the setting. The street is lined with a variety of shops and cafes, their facades and signage just out of focus, adding depth and context to the scene. The lighting is natural, suggesting a sunny day, with shadows cast naturally on the ground, enhancing the realism of the photograph.This image captures a moment of everyday life, blending the subjects seamlessly into the vibrant, dynamic environment of the pedestrian street, creating a snapshot that is both personal and universally relatable.", "multiline": True}),
                "FF_custom": ("STRING", {"default": "Envision a full-body portrait of two fashionable young women strolling confidently through a modern shopping mall. They are dressed in stylish, on-trend attire that showcases their individual tastes. The first girl is wearing a chic, oversized sweater paired with high-waisted leggings and trendy sneakers, her outfit accentuated by a bold statement necklace. Her hair is styled in loose waves that cascade over her shoulders, and she carries a sleek crossbody bag.Her companion opts for a more structured look with a tailored blazer over a graphic tee, matched with slim-fit jeans and ankle boots. Her hair is pulled back into a chic bun, and she accessorizes with minimalist jewelry that complements her outfit.As they walk side by side, their arms are linked, indicating a close friendship. They are smiling and appear to be engaged in a lively conversation, their expressions radiating joy and camaraderie. The mall around them is vibrant, with blurred images of store displays, bright signage, and other shoppers contributing to the lively atmosphere.Large windows allow natural light to flood the space, casting a warm glow on the scene and highlighting the girls' outfits. The overall impression is one of youthful energy, fashion-forward style, and the enjoyment of a day spent shopping with a best friend. This image captures the essence of modern friendship and the pleasure of exploring the latest fashion trends together.\nCreate a full-body portrait of two radiant young women standing side by side, their gazes meeting the camera with a mix of joy and anticipation. They are adorned in elegant white bridal gowns that cascade down to the ground, each with its own unique design. One dress features delicate lace detailing and a flowing skirt, while the other showcases a sleek silhouette with a modest train. Their hair is styled in soft waves, and they wear minimal makeup that enhances their natural beauty.The women are holding hands, symbolizing their bond and shared experience. Their expressions are warm and genuine, reflecting both excitement and a sense of solemnity appropriate for the occasion. They stand against a backdrop that is softly blurred, suggesting an outdoor setting with hints of greenery and perhaps a distant water feature or garden path.The lighting is soft and natural, likely from a setting sun or a cloudy day, casting a gentle glow on the scene and highlighting the intricate details of their dresses. The overall impression is one of elegance, grace, and the special bond between the two women, capturing a moment of pure joy and anticipation on their wedding day. This image is perfect for a bridal magazine feature or a wedding album, encapsulating the beauty and emotion of the occasion.\nCapture a full-body portrait of two radiant young women standing side by side, their gazes meeting the camera with a mix of anticipation and joy. They are adorned in elegant white bridal gowns that cascade down to the floor, each with its unique design elements that add a touch of sophistication and grace. One gown might feature delicate lace detailing, while the other could have a flowing, ethereal skirt that adds a dreamy quality to her appearance.Their hairstyles are meticulously styled, perhaps one with a half-up, half-down look that frames her face beautifully, and the other with a classic updo that showcases her neckline. Soft, natural makeup enhances their features, with a focus on highlighting their eyes and a gentle blush that brings a warm glow to their cheeks.The indoor setting is softly blurred, creating a gentle backdrop that keeps the focus on the girls. The room might be a luxurious bridal suite or a well-lit reception hall, with hints of elegant decor like draped fabrics, floral arrangements, and soft lighting that casts a warm, inviting glow. The overall ambiance is one of celebration and elegance, with the girls' joyful expressions and the pristine white of their gowns standing out against the subtly detailed background.This image captures a moment of shared happiness and the special bond between the two girls, possibly sisters or best friends, as they prepare for a significant event in their lives, surrounded by the beauty and warmth of a carefully curated indoor environment.\nA full-body photo captures two female students in crisp school uniforms standing in a sunlit classroom. Their uniforms feature dark blazers with school emblems, white shirts with neatly tied ribbons, and pleated skirts. One girl has her hair in a practical ponytail, while the other wears hers in a neat bob. They stand close together, perhaps one with her arm around the other's shoulder, suggesting friendship and camaraderie. The classroom setting is visible but softly blurred - rows of desks, a chalkboard, and large windows letting in streams of natural light. Their expressions are youthful and bright, with genuine smiles that convey academic optimism and the special bond of school friendship. The overall impression is one of youthful innocence, academic pride, and the meaningful connections formed during school years.\nEnvision a casual, full-length photograph capturing two women strolling leisurely down a bustling pedestrian street. Both are dressed in vibrant, colorful t-shirts emblazoned with the word 'CHAOS' across the chest in bold, eye-catching letters. Their attire suggests a sense of fun and nonconformity, fitting perfectly with the lively atmosphere of the street.The woman on the left might be wearing a bright blue t-shirt paired with comfortable jeans, while her companion on the right opts for a lively green shirt with similar casual bottoms. Their outfits are completed with practical yet stylish footwear, suitable for a day of walking and exploring.Their hair is styled in a way that is both fashionable and carefree, perhaps one with loose waves and the other in a playful ponytail. They walk naturally, arms linked or hands in pockets, embodying the spirit of friendship and shared adventure. Their expressions are relaxed and content, perhaps sharing a private joke or simply enjoying each other's company.The background is a soft blur of the pedestrian street, allowing the focus to remain on the women while still conveying the setting. The street is lined with a variety of shops and cafes, their facades and signage just out of focus, adding depth and context to the scene. The lighting is natural, suggesting a sunny day, with shadows cast naturally on the ground, enhancing the realism of the photograph.This image captures a moment of everyday life, blending the subjects seamlessly into the vibrant, dynamic environment of the pedestrian street, creating a snapshot that is both personal and universally relatable.", "multiline": True}),
            },
            "optional": {
                # 左女右男提示词
                "FM_portrait": ("STRING", {"default": "A professional portrait captures a young couple against a neutral studio background.The background is smooth, monochromatic,seamless. The woman on the left wears a simple, elegant blouse in a soft color, while the man on the right is in a well-fitted button-down shirt. Their bodies are slightly angled toward each other, creating a sense of connection while allowing both faces to be clearly visible to the camera. The lighting is soft and flattering, with gentle shadows that create dimension without harshness. Their expressions are warm and genuine - perhaps soft smiles or a look of quiet contentment that suggests their comfort with each other. The composition is classic and balanced, with their faces at similar heights in the frame. The overall impression is one of authentic partnership, mutual respect, and the subtle intimacy of a couple who are at ease in each other's presence.\nA stylish portrait captures a woman and man, side-by-side, the woman positioned on the left and the man on the right. They both wear casual yet fashionable attire, perhaps trendy streetwear or designer separates, with the word 'CHAOS' emblazoned across their shirts. The lighting is carefully crafted to create a mood of cool sophistication, highlighting their features and the stylish details of their clothing. Their poses are relaxed yet confident, conveying a sense of effortless cool. The background is  smooth, monochromatic,seamless,keeping the focus on the couple and their shared sense of style. The overall impression is one of modern fashion, youthful rebellion, and a strong connection between the two individuals.\nA professional portrait captures a woman and a man, positioned side-by-side with the woman on the left and the man on the right. They are both dressed in formal attire. The woman might wear a sophisticated dress or a tailored suit, while the man wears a sharp suit and tie. The lighting is carefully controlled and balanced, highlighting their features and creating a polished, sophisticated look. Their posture is confident and composed, their expressions conveying professionalism and approachability. The background is smooth, monochromatic,seamless, typically a neutral color that doesn't distract from the subjects. The overall impression is one of competence, sophistication, and a strong, professional presence. The composition emphasizes their partnership and shared purpose, while also allowing their individual personalities to shine through.", "multiline": True}),
                "FM_half": ("STRING", {"default": "A half-body portrait showcases a stylish couple at a formal evening event. The woman on the left wears an elegant evening dress with statement jewelry and sophisticated styling, while the man on the right is in a perfectly tailored tuxedo or formal suit. The background suggests an upscale venue - perhaps with crystal chandeliers, architectural details, or soft lights creating a bokeh effect. The lighting is dramatic yet flattering, with highlights that catch on fabric textures, jewelry, and glassware. They might be holding champagne flutes or positioned near a formal dining table. Their posture is poised and confident, with a subtle connection between them - perhaps his hand lightly touching her back or their shoulders nearly touching. Their expressions convey the elevated mood of the occasion - perhaps slight smiles or an air of sophisticated enjoyment. The overall impression is one of elegance, social refinement, and the special chemistry of a couple navigating a formal social setting together.\nA half-body portrait captures a young couple in casual weekend attire against the backdrop of a cozy café. The woman on the left wears a soft sweater and simple necklace, while the man on the right is in a casual button-down with rolled sleeves. They sit at a small round table, perhaps with coffee cups or dessert plates visible in the foreground. The café setting is suggested through soft bokeh of warm lights, wooden elements, and perhaps hints of other patrons blurred in the background. The lighting is warm and intimate, suggesting afternoon or evening hours. Their posture shows them leaning slightly toward each other, engaged in conversation or sharing a moment of connection. Their expressions are relaxed and authentic - perhaps mid-laugh or exchanging warm glances. The overall impression is one of everyday intimacy, comfortable companionship, and the simple pleasure of shared time together.\nA professional half-body portrait captures a bride and groom, positioned side-by-side with the woman on the left and the man on the right. The bride radiates elegance in a beautiful wedding gown, its intricate details and flowing fabric highlighted by soft, flattering lighting. The groom stands tall and proud beside her, wearing an expensive, impeccably tailored suit. A unique detail catches the eye: an elaborate brooch pinned to his lapel, bearing the word 'CHAOS' The couple's expressions are warm and loving as they gaze at each other, their connection palpable. The background is subtly blurred, perhaps a tastefully decorated interior or a picturesque outdoor setting, keeping the focus on the couple and their elegant attire. The overall impression is one of sophistication, romance, and a touch of intriguing individuality hinted at by the groom's unusual accessory.\nA candid, half-body shot captures a man and woman, side-by-side, amidst the bustling backdrop of a shopping mall. The woman is on the left, the man on the right. Both wear casual attire, likely t-shirts or sweatshirts, prominently featuring the word 'CHAOS' across the chest. The photo captures a spontaneous moment – perhaps mid-conversation or sharing a laugh – their expressions natural and unguarded. The bustling mall environment, with its blurred shoppers and brightly lit storefronts, adds a sense of dynamic energy to the scene. The focus remains on the couple, their matching attire suggesting a shared interest or connection. The overall impression is one of casual coolness, youthful energy, and a shared sense of style within the vibrant atmosphere of a modern shopping mall.", "multiline": True}),
                "FM_full": ("STRING", {"default": "A full-body photograph captures a couple in athletic wear on a morning run through a scenic park. The woman on the left wears fitted running leggings and a lightweight performance top, while the man on the right is in running shorts and a technical t-shirt. Both wear quality running shoes and perhaps smart watches or fitness trackers. The park setting is lush and vibrant - with a clear path, green trees, and perhaps early morning light creating a golden glow. They are captured in motion, with natural running postures that suggest energy and vitality. The composition captures them from a slight distance, showing their full bodies while including enough of the environment to establish the setting. Their expressions show focus mixed with enjoyment - the satisfaction of shared physical activity. The overall impression is one of health, vitality, and the special bond of couples who pursue fitness goals together.\nA full-body photograph presents a couple dressed for a formal occasion, standing at the entrance to an elegant venue. The woman on the left wears a floor-length evening gown that flatters her figure, complemented by carefully chosen accessories and formal styling. The man on the right is in a well-tailored suit or tuxedo with appropriate formal details. The venue entrance might feature architectural elements like columns, grand doors, or decorative details that suggest luxury and occasion. The lighting is sophisticated - perhaps with venue lighting creating a warm glow or professional lighting that highlights the couple while maintaining the ambiance of the setting. Their posture is formal yet natural, standing close together with subtle body language that indicates their relationship. Their expressions convey the significance of the occasion - perhaps subtle smiles or a look of confident anticipation. The overall impression is one of celebration, partnership, and the special moments in life marked by formal attire and meaningful venues.\nA stylish, full-body portrait captures a woman and man standing side-by-side, the woman on the left and the man on the right. Both wear casual yet fashionable attire, featuring jeans and matching 'CHAOS' emblazoned tops - perhaps t-shirts, hoodies, or sweatshirts. Their coordinated 'couple shoes' add a touch of playfulness and reinforce their connection. The poses are relaxed and natural, conveying a sense of effortless cool. The lighting is carefully designed to enhance their features and the details of their clothing, creating a mood of modern sophistication. The background is simple and uncluttered, allowing the focus to remain on the couple and their coordinated style. The overall impression is one of youthful confidence, shared style, and a strong bond between the two individuals.\nA professional full-body portrait captures a bride and groom standing side-by-side, with the woman on the left and the man on the right. The bride radiates elegance in a beautiful, flowing wedding gown, its intricate details and luxurious fabric highlighted by soft, flattering lighting. The groom stands tall and proud beside her in an expensive, impeccably tailored suit. A small, subtle logo bearing the word 'CHAOS' is visible on his chest, adding a touch of unique personality to his formal attire. Their postures are graceful and composed, their expressions reflecting the joy and love of the occasion. The background is elegant and understated, perhaps a tastefully decorated interior or a picturesque outdoor setting. The overall impression is one of sophistication, romance, and a subtle hint of individuality, creating a timeless and memorable image of their special day.", "multiline": True}),
                "FM_custom": ("STRING", {"default": "A half-body portrait showcases a stylish couple at a formal evening event. The woman on the left wears an elegant evening dress with statement jewelry and sophisticated styling, while the man on the right is in a perfectly tailored tuxedo or formal suit. The background suggests an upscale venue - perhaps with crystal chandeliers, architectural details, or soft lights creating a bokeh effect. The lighting is dramatic yet flattering, with highlights that catch on fabric textures, jewelry, and glassware. They might be holding champagne flutes or positioned near a formal dining table. Their posture is poised and confident, with a subtle connection between them - perhaps his hand lightly touching her back or their shoulders nearly touching. Their expressions convey the elevated mood of the occasion - perhaps slight smiles or an air of sophisticated enjoyment. The overall impression is one of elegance, social refinement, and the special chemistry of a couple navigating a formal social setting together.\nA half-body portrait captures a young couple in casual weekend attire against the backdrop of a cozy café. The woman on the left wears a soft sweater and simple necklace, while the man on the right is in a casual button-down with rolled sleeves. They sit at a small round table, perhaps with coffee cups or dessert plates visible in the foreground. The café setting is suggested through soft bokeh of warm lights, wooden elements, and perhaps hints of other patrons blurred in the background. The lighting is warm and intimate, suggesting afternoon or evening hours. Their posture shows them leaning slightly toward each other, engaged in conversation or sharing a moment of connection. Their expressions are relaxed and authentic - perhaps mid-laugh or exchanging warm glances. The overall impression is one of everyday intimacy, comfortable companionship, and the simple pleasure of shared time together.\nA professional half-body portrait captures a bride and groom, positioned side-by-side with the woman on the left and the man on the right. The bride radiates elegance in a beautiful wedding gown, its intricate details and flowing fabric highlighted by soft, flattering lighting. The groom stands tall and proud beside her, wearing an expensive, impeccably tailored suit. A unique detail catches the eye: an elaborate brooch pinned to his lapel, bearing the word ‘CHAOS’. The couple's expressions are warm and loving as they gaze at each other, their connection palpable. The background is subtly blurred, perhaps a tastefully decorated interior or a picturesque outdoor setting, keeping the focus on the couple and their elegant attire. The overall impression is one of sophistication, romance, and a touch of intriguing individuality hinted at by the groom's unusual accessory.\nA candid, half-body shot captures a man and woman, side-by-side, amidst the bustling backdrop of a shopping mall. The woman is on the left, the man on the right. Both wear casual attire, likely t-shirts or sweatshirts, prominently featuring the word‘CHAOS’ across the chest. The photo captures a spontaneous moment – perhaps mid-conversation or sharing a laugh – their expressions natural and unguarded. The bustling mall environment, with its blurred shoppers and brightly lit storefronts, adds a sense of dynamic energy to the scene. The focus remains on the couple, their matching attire suggesting a shared interest or connection. The overall impression is one of casual coolness, youthful energy, and a shared sense of style within the vibrant atmosphere of a modern shopping mall.", "multiline": True}),
                
                # 左男右男提示词
                "MF_portrait": ("STRING", {"default": "A casual portrait features a man and woman, positioned with the man on the left and the woman on the right, standing close together in front of a lecture hall podium. They wear matching or coordinating couple outfits, perhaps t-shirts, sweaters, or jackets, that subtly convey their connection. Their postures are relaxed and natural, suggesting a comfortable intimacy. They might be looking at each other, at the camera, or towards the audience, their expressions reflecting a shared moment or a shared interest in the lecture setting. The podium, perhaps with a microphone or a nameplate, adds a touch of academic or professional context to the scene. The lighting is soft and even, enhancing the casual and approachable atmosphere. The overall impression is one of connection, shared interests, and the easy comfort of a couple in a semi-formal setting.\nA casual portrait captures a man and woman at a music festival, the man positioned on the left and the woman on the right. They wear matching or coordinating band t-shirts, showcasing their shared musical taste and enthusiasm for the event. Their faces are lit up with excitement, their expressions capturing the energy and exhilaration of the festival atmosphere. They might be smiling brightly, singing along to the music, or looking out at the stage with expressions of awe. The background is a vibrant blur of festival activity – colorful lights, a crowd of people, perhaps a glimpse of the stage or a musical instrument. The overall impression is one of shared passion, joyful connection, and the immersive experience of a live music event. The image is dynamic and energetic, reflecting the vibrant atmosphere of the music festival.\nA formal portrait captures a man and woman, positioned with the man on the left and the woman on the right. They are dressed impeccably in professional attire – perhaps a suit and tie for him and a tailored dress or suit for her. Their posture is poised and confident, their expressions serious yet approachable. A small, intricate gold pin bearing the word 'CHAOS'is affixed to each of their lapels, adding a touch of intrigue and suggesting a shared affiliation or a subtle hint of rebellion beneath their polished exteriors. The background is a neutral color, allowing the focus to remain on the subjects and the subtle details of their attire. The lighting is even and balanced, creating a sense of timeless elegance and sophistication. The overall impression is one of professionalism, power, and a shared secret hinted at by the matching pins.\nA formal wedding portrait captures a bride and groom indoors, positioned with the groom on the left and the bride on the right. Both wear crisp white shirts, creating a clean and classic look. A small, intricate gold pin bearing the word 'CHAOS'is affixed to each of their shirts near the heart, adding an unexpected touch of personality and shared rebellion to the traditional attire. Their postures are composed and elegant, their expressions reflecting the joy and solemnity of the occasion. They might be holding hands or gazing into each other's eyes, their connection palpable. The background is a simple, uncluttered indoor setting, perhaps a tastefully decorated room or a classic architectural space, that allows the focus to remain on the couple and the subtle details of their attire. The lighting is soft and even, creating a sense of timeless romance and intimacy. The overall impression is one of love, tradition with a twist, and a shared secret hinted at by the matching 'CHAOS'pins.", "multiline": True}),
                "MF_half": ("STRING", {"default": "A professional half-body wedding portrait captures a bride and groom outdoors, the groom positioned on the left and the bride on the right. The groom looks dashing in a stylish tuxedo, its details sharply defined in the soft light. The bride radiates beauty in a stunning gown, the intricate details of the bodice and sleeves beautifully showcased. They stand close together, their expressions reflecting love and happiness. The background, perhaps a garden, a beach, or a scenic overlook, is softly blurred, drawing the viewer's attention to the couple and their connection. The overall impression is one of romance, elegance, and the intimate joy of a wedding celebration. The image is expertly lit and composed, capturing the couple's happiness and the beauty of their attire.\nA professional half-body shot captures a male and female model on a brightly lit runway, the man positioned on the left and the woman on the right. Both wear stylish white ensembles, the designs crisp and modern, perhaps with avant-garde details or elegant draping. The bright runway lights create dramatic highlights and shadows, emphasizing the textures of the fabric and the contours of their bodies from the waist up. Their poses are confident and striking, showcasing the clothes and their professional modeling skills. The background is a blur of vibrant colors and flashing lights, capturing the energy and excitement of a high-fashion runway show. The overall impression is one of glamour, sophistication, and the dynamic world of high fashion. The image is sharp and well-composed, highlighting the models, their outfits, and the electric atmosphere of the runway.\nA casual, half-body shot captures a man and woman dressed in relaxed student attire inside a classroom, a large chalkboard serving as the backdrop. The man is positioned on the left, the woman on the right. They stand comfortably, perhaps holding books or leaning against a desk, their postures natural and conveying a sense of youthful ease. They might be looking at each other, at the camera, or towards the chalkboard, suggesting a moment of connection or contemplation within the academic setting. Their clothing is simple and relatable – jeans, t-shirts, sweaters, perhaps a school logo or emblem subtly displayed. The chalkboard, perhaps filled with equations, notes, or drawings, adds a touch of academic authenticity to the scene. The lighting is soft and natural, mimicking the light from classroom windows. The overall impression is one of youthful energy, the comfortable familiarity of student life, and the potential for learning and growth within the academic environment.\nA casual, half-body shot captures a man and woman indoors, the man on the left and the woman on the right. They wear matching couple t-shirts, his displaying 'CHAOS'and hers 'SOAHC'—a playful, mirrored design. They stand comfortably close, their postures relaxed and natural. They might be looking at each other, at the camera, or off into the distance, their expressions conveying a sense of connection and easygoing affection. The background is a simple, uncluttered indoor setting, perhaps a living room or a cafe, that allows the focus to remain on the couple and their matching t-shirts. The lighting is soft and natural, enhancing the casual and intimate atmosphere. The overall impression is one of playful connection, comfortable intimacy, and the simple joy of shared moments.\nA casual, half-body shot captures a man and woman indoors, the man on the left and the woman on the right. They wear matching couple hoodies, his displaying 'CHAOS'and hers 'SOAHC'—a playful, mirrored design. The hoodies contribute to the cozy and comfortable atmosphere. They stand comfortably close, their postures relaxed and natural. They might be looking at each other, at the camera, or off into the distance, their expressions conveying a sense of connection and easygoing affection. The background is a simple, uncluttered indoor setting, perhaps a living room or a cafe, that allows the focus to remain on the couple and their matching hoodies. The lighting is soft and natural, enhancing the casual and intimate atmosphere. The overall impression is one of playful connection, comfortable intimacy, and the simple joy of shared moments.\nA casual, half-body shot captures a man and woman in front of a chalkboard, the man on the left and the woman on the right. They wear matching couple hoodies, his displaying 'CHAOS'and hers 'SOAHC'—a playful, mirrored design. The chalkboard behind them prominently features the word 'CHAOS'written in large letters, creating a visual connection with their attire. They stand comfortably close, their postures relaxed and natural. They might be looking at each other, at the camera, or towards the chalkboard, their expressions conveying a sense of connection, shared humor, and easygoing affection. The lighting is soft and even, highlighting the details of the hoodies and the chalkboard writing. The overall impression is one of playful connection, shared interests, and the comfortable intimacy of a couple inside a classroom or similar setting. The repeated 'CHAOS'motif adds a touch of intrigue and suggests a shared inside joke or a common passion.", "multiline": True}),
                "MF_full": ("STRING", {"default": "A professional full-body shot captures a male and female model on a brightly lit runway, the man positioned on the left and the woman on the right. Both wear stylish white ensembles, the designs crisp and modern, perhaps with avant-garde details or flowing, elegant lines. The bright runway lights create dramatic highlights and shadows, emphasizing the contours of their bodies and the texture of the fabric. Their poses are confident and striking, showcasing the clothes and their professional modeling skills. The background is a blur of vibrant colors and flashing lights, capturing the energy and excitement of a high-fashion runway show. The overall impression is one of glamour, sophistication, and the dynamic world of high fashion. The image is sharp and well-composed, highlighting the models, their outfits, and the electric atmosphere of the runway.\nA professional, full-body lifestyle shot captures a man and woman in a relaxed pose within a bustling, upscale shopping mall. The man stands on the left side of the frame, and the woman on the right. They stand slightly apart, perhaps engaged in casual conversation or sharing a laugh, their body language conveying a sense of comfortable connection. They are dressed in stylish, casual attire, perhaps jeans and t-shirts or other relaxed yet fashionable clothing. The background features the sleek, modern interior of the mall, with glimpses of high-end storefronts and shoppers passing by. The polished marble floor reflects the light, adding a touch of luxury to the scene. The lighting is soft and natural, creating a sense of warmth and authenticity. The overall impression is one of relaxed sophistication, contemporary style, and the enjoyable experience of a day at the mall.\nA professional, full-body wedding portrait captures a bride and groom in a picturesque outdoor setting, bathed in the soft light of a spring day. The groom, positioned on the left, wears a sharp, well-tailored suit that complements his physique. The bride, on the right, radiates beauty in a stunning wedding gown, its elegant details and flowing fabric highlighted by the gentle breeze. They stand close together, their hands clasped, their expressions reflecting love, joy, and anticipation. The background is a vibrant tapestry of springtime colors – blooming flowers, lush green foliage, and a clear blue sky. The overall impression is one of romance, timeless elegance, and the blissful beginning of a shared journey. The image is beautifully composed and expertly lit, capturing the couple's happiness and the beauty of their surroundings.\nA professional, full-body wedding portrait captures a bride and groom in a picturesque outdoor setting. The groom, positioned on the left, wears a stylish, contemporary tuxedo or formal suit that complements his physique and reflects his personal style. The bride, on the right, radiates beauty in a stunning wedding gown, its elegant details and flowing fabric catching the light. They stand together, their poses conveying a sense of connection and intimacy, their expressions reflecting love, joy, and the start of their shared journey. The background could be a natural landscape—a beach, a garden, a mountain vista—or an architectural setting, each adding a unique touch to the image. The lighting is soft and romantic, enhancing the beauty of the couple and their surroundings. The overall impression is one of timeless elegance, modern romance, and the promise of a beautiful future together. The image is expertly composed and lit, capturing the couple's happiness and the magic of their special day.\nA professional, full-body shot captures a man and woman dressed in casual student attire inside a classroom, a large chalkboard serving as the backdrop. The man stands on the left, the woman on the right. They stand naturally, perhaps holding books or backpacks, their postures relaxed and conveying a sense of youthful ease. They might be looking at each other, at the camera, or towards the chalkboard, suggesting a moment of connection or contemplation within the academic setting. Their clothing is simple and relatable – jeans, t-shirts, sweaters, perhaps a school logo or emblem subtly displayed. The chalkboard, perhaps filled with equations, notes, or drawings, adds a touch of academic authenticity to the scene. The lighting is soft and natural, mimicking the light from classroom windows. The overall impression is one of youthful energy, the comfortable familiarity of student life, and the potential for learning and growth within the academic environment.\nA formal, full-body wedding portrait captures a bride and groom in a professional studio setting, the groom positioned on the left and the bride on the right. Both wear elegant white wedding attire – a classic tuxedo for him and a stunning gown for her. A small, intricate gold pin bearing the word 'CHAOS'is affixed to each of their outfits near the heart, a subtle yet distinctive detail that adds a touch of personality and shared irreverence to the traditional scene. They stand close together, their postures elegant and composed, their expressions reflecting the joy and love of the occasion. The studio backdrop is simple and elegant, perhaps a neutral color or a classic textured wall, designed to keep the focus on the couple and their attire. The lighting is expertly crafted, highlighting the details of their clothing and the subtle sparkle of the gold pins. The overall impression is one of timeless elegance, romantic tradition with a modern twist, and a shared secret symbolized by the matching 'CHAOS'pins.", "multiline": True}),
                "MF_custom": ("STRING", {"default": "A professional half-body wedding portrait captures a bride and groom outdoors, the groom positioned on the left and the bride on the right. The groom looks dashing in a stylish tuxedo, its details sharply defined in the soft light. The bride radiates beauty in a stunning gown, the intricate details of the bodice and sleeves beautifully showcased. They stand close together, their expressions reflecting love and happiness. The background, perhaps a garden, a beach, or a scenic overlook, is softly blurred, drawing the viewer's attention to the couple and their connection. The overall impression is one of romance, elegance, and the intimate joy of a wedding celebration. The image is expertly lit and composed, capturing the couple's happiness and the beauty of their attire.\nA professional half-body shot captures a male and female model on a brightly lit runway, the man positioned on the left and the woman on the right. Both wear stylish white ensembles, the designs crisp and modern, perhaps with avant-garde details or elegant draping. The bright runway lights create dramatic highlights and shadows, emphasizing the textures of the fabric and the contours of their bodies from the waist up. Their poses are confident and striking, showcasing the clothes and their professional modeling skills. The background is a blur of vibrant colors and flashing lights, capturing the energy and excitement of a high-fashion runway show. The overall impression is one of glamour, sophistication, and the dynamic world of high fashion. The image is sharp and well-composed, highlighting the models, their outfits, and the electric atmosphere of the runway.\nA casual, half-body shot captures a man and woman dressed in relaxed student attire inside a classroom, a large chalkboard serving as the backdrop. The man is positioned on the left, the woman on the right. They stand comfortably, perhaps holding books or leaning against a desk, their postures natural and conveying a sense of youthful ease. They might be looking at each other, at the camera, or towards the chalkboard, suggesting a moment of connection or contemplation within the academic setting. Their clothing is simple and relatable – jeans, t-shirts, sweaters, perhaps a school logo or emblem subtly displayed. The chalkboard, perhaps filled with equations, notes, or drawings, adds a touch of academic authenticity to the scene. The lighting is soft and natural, mimicking the light from classroom windows. The overall impression is one of youthful energy, the comfortable familiarity of student life, and the potential for learning and growth within the academic environment.\nA casual, half-body shot captures a man and woman indoors, the man on the left and the woman on the right. They wear matching couple t-shirts, his displaying 'CHAOS'and hers 'SOAHC'—a playful, mirrored design. They stand comfortably close, their postures relaxed and natural. They might be looking at each other, at the camera, or off into the distance, their expressions conveying a sense of connection and easygoing affection. The background is a simple, uncluttered indoor setting, perhaps a living room or a cafe, that allows the focus to remain on the couple and their matching t-shirts. The lighting is soft and natural, enhancing the casual and intimate atmosphere. The overall impression is one of playful connection, comfortable intimacy, and the simple joy of shared moments.\nA casual, half-body shot captures a man and woman indoors, the man on the left and the woman on the right. They wear matching couple hoodies, his displaying 'CHAOS'and hers 'SOAHC'—a playful, mirrored design. The hoodies contribute to the cozy and comfortable atmosphere. They stand comfortably close, their postures relaxed and natural. They might be looking at each other, at the camera, or off into the distance, their expressions conveying a sense of connection and easygoing affection. The background is a simple, uncluttered indoor setting, perhaps a living room or a cafe, that allows the focus to remain on the couple and their matching hoodies. The lighting is soft and natural, enhancing the casual and intimate atmosphere. The overall impression is one of playful connection, comfortable intimacy, and the simple joy of shared moments.\nA casual, half-body shot captures a man and woman in front of a chalkboard, the man on the left and the woman on the right. They wear matching couple hoodies, his displaying 'CHAOS'and hers 'SOAHC'—a playful, mirrored design. The chalkboard behind them prominently features the word 'CHAOS'written in large letters, creating a visual connection with their attire. They stand comfortably close, their postures relaxed and natural. They might be looking at each other, at the camera, or towards the chalkboard, their expressions conveying a sense of connection, shared humor, and easygoing affection. The lighting is soft and even, highlighting the details of the hoodies and the chalkboard writing. The overall impression is one of playful connection, shared interests, and the comfortable intimacy of a couple inside a classroom or similar setting. The repeated 'CHAOS'motif adds a touch of intrigue and suggests a shared inside joke or a common passion.", "multiline": True}),
                
                # 男性组合提示词
                "MM_portrait": ("STRING", {"default": "Two men facing each other in a professional portrait. Soft, diffused lighting illuminates their faces, highlighting their distinct features and character. Their eyes, full of intensity and subtle emotion, connect with each other. Their hair and grooming, executed with precision, enhance their natural appearance. Their posture is confident and composed, conveying a sense of strength and presence. The background is a deep, muted color, creating a sense of depth and sophistication. The overall impression is one of masculine elegance and dignified poise, captured with photographic excellence that balances technical precision with emotional authenticity.\nEnvision a professional portrait capturing two young men standing side by side, their postures upright and confident. They are dressed in crisp school uniforms that include dark blazers adorned with the school's emblem, signifying a sense of pride and unity. Underneath, they wear white shirts with neatly tied ribbons, adding a touch of formality to their appearance.Their hairstyles are neat and well-groomed, reflecting the discipline and attention to detail often associated with academic environments. Their expressions are composed and serious, perhaps with a hint of a smile that suggests a sense of accomplishment and camaraderie.The background is an indoor classroom setting, softly blurred to keep the focus on the subjects while still providing context. The classroom might include rows of desks arranged neatly, a chalkboard filled with equations or notes, and large windows that let in streams of natural light, casting a warm glow on the scene. The outdoor elements visible through the windows suggest a serene schoolyard, with perhaps the hint of trees or a courtyard, adding depth to the setting.The overall composition is balanced, with the young men positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet dignified, reflecting their ease with each other and the familiar environment of their classroom. The image captures a moment of academic life, blending the subjects seamlessly with their educational surroundings, and evoking a sense of youthful ambition and the special bond formed during school years.\nImagine a natural, full-body portrait of two young male students standing side by side in a classroom filled with warm, natural light. They are dressed in smart school uniforms that include dark blazers featuring the school's emblem, symbolizing their affiliation and pride in their institution. Underneath, they wear crisp white shirts that are neatly buttoned up, adding a touch of formality and discipline to their appearance.Their hairstyles are tidy and well-maintained, reflecting the grooming standards often associated with educational settings. Their expressions are earnest and engaging, with soft smiles that convey a sense of friendliness and enthusiasm for learning.The classroom setting is softly blurred, creating a gentle backdrop that allows the focus to remain on the students while still providing a sense of place. The background might include rows of desks arranged neatly, a chalkboard adorned with educational content, and large windows that let in streams of sunlight, casting a warm glow on the scene. The indoor elements, such as the hint of bookshelves filled with textbooks or educational posters on the walls, contribute to the overall ambiance of an active learning environment.The lighting is natural and flattering, suggesting a sunny day with soft shadows that accentuate the contours of their uniforms and faces. The overall composition is balanced and harmonious, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the familiar environment of their classroom.This image captures a moment of academic life, blending the subjects seamlessly with their educational surroundings, and evoking a sense of youthful ambition and the special bond formed during school years.\nVisualize a natural, full-body portrait of two men standing side by side in an outdoor setting, their attire simple yet bold. Both men are wearing plain t-shirts in solid colors, with the word 'CHAOS' printed across the chest in striking, eye-catching letters. The t-shirts could be in contrasting colors, such as one in a vibrant shade like red or blue and the other in a more subdued tone like black or white, creating a dynamic visual effect.Their hairstyles are casual and well-suited to an outdoor setting, perhaps one with short hair and the other with a slightly longer, tousled look. Their expressions are relaxed and genuine, with friendly smiles that suggest a shared moment of enjoyment or an inside joke.The outdoor background is softly blurred, allowing the focus to remain on the men while still providing a sense of location. The setting might include elements such as lush greenery, a park bench, or a distant view of a cityscape, with the natural light casting gentle shadows and highlighting the colors of their t-shirts.The lighting is natural and warm, suggesting a sunny day with soft, diffused light that enhances the overall ambiance of the scene. The overall composition is balanced, with the men positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the outdoor environment.This image captures a moment of casual camaraderie, set against the backdrop of a day spent outdoors, blending the subjects seamlessly with their natural surroundings and conveying a sense of ease and enjoyment.", "multiline": True}),
                "MM_half": ("STRING", {"default": "Create a natural, half-body portrait of two men standing side by side in an indoor setting, their attire casual yet striking. Both men are wearing plain t-shirts in solid colors, with the word 'CHAOS' printed across the chest in bold, eye-catching letters. The t-shirts could be in contrasting colors, such as one in a deep black and the other in a vibrant red, to add visual interest to the image.Their hairstyles are modern and well-kept, reflecting a sense of style and personality. Their expressions are relaxed and approachable, with genuine smiles that suggest camaraderie and shared humor. The lighting is soft and even, highlighting their features without creating harsh shadows, giving the portrait a warm and inviting feel.The background is an indoor space, blurred to keep the focus on the subjects but still providing a sense of depth and context. The indoor setting might include elements such as bookshelves filled with books, a cozy seating area, or a large window that lets in diffused natural light, adding a layer of realism to the scene.The overall composition is balanced, with the men positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the casual atmosphere of the setting. The image captures a moment of genuine connection between the two men, set against the backdrop of a modern, stylish indoor environment, creating a snapshot that is both personal and relatable.\nVisualize a natural, half-body portrait of two male students standing in a classroom bathed in soft, warm sunlight. The students are dressed in crisp, clean uniforms that reflect the order and discipline of their academic environment. Their attire includes well-tailored dark blazers, each adorned with the school's emblem, symbolizing their identity and unity as members of the institution. Underneath, they wear neatly ironed white shirts, adding a classic touch to their appearance.Their hairstyles are tidy and in accordance with school standards, suggesting a sense of respect for the educational setting. Their faces are lit by the natural light streaming through the classroom windows, casting gentle shadows and highlighting their youthful features. Their expressions are earnest and attentive, with a hint of a smile that conveys their enthusiasm for learning and camaraderie with each other.The classroom background is softly blurred, creating a bokeh effect that keeps the focus on the students while still providing a sense of place. The background might include rows of desks arranged in orderly fashion, a chalkboard with mathematical equations or historical notes, and educational posters adorning the walls. The sunlight filtering through the windows casts a warm glow on the scene, enhancing the inviting atmosphere of the learning environment.The overall composition is balanced and harmonious, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet dignified, reflecting their comfort in the familiar surroundings of their classroom. This image captures a moment of academic life, seamlessly blending the subjects with their educational setting, and evoking a sense of youthful ambition and the special bond formed during school years.\nEnvision a natural, half-body portrait of two young male students from Gryffindor house, standing confidently in the ancient hallways of Hogwarts castle. They are dressed in their house's traditional uniforms, which include vibrant scarlet robes with the Gryffindor crest emblazoned on the left breast, signifying their bravery and chivalry. Underneath, they wear crisp white shirts and ties in the house colors, adding a touch of elegance to their attire.Their hairstyles are well-maintained, reflecting the grooming standards of the esteemed school, and their faces are lit by the soft, flickering glow of the torches that line the stone walls. Their expressions are a mix of determination and camaraderie, with subtle smiles that convey their pride in their house and their friendship with each other.The background is a corridor within Hogwarts, blurred to keep the focus on the students while still providing a sense of the magical environment. The stone walls are adorned with torches that cast a warm, dancing light, and magical portraits of past Hogwarts students and faculty members, which seem to be observing the scene with interest. Through the windows, the night sky is visible, punctuated by the gentle glow of floating candles that add an ethereal quality to the scene.The overall composition is balanced, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet dignified, reflecting their ease with each other and the enchanting surroundings of their school. This image captures a moment of camaraderie and the magical atmosphere of Hogwarts, blending the subjects seamlessly with their mystical environment and evoking a sense of adventure and the special bond formed during their time at the school of witchcraft and wizardry.\nVisualize a stylish, half-body portrait of two male singers standing on a stage, exuding confidence and charisma. They are dressed in a coordinated and sophisticated ensemble that includes crisp white shirts, sleek black ties, and elegant navy blue trench coats. The trench coats are a classic choice, adding a touch of timeless elegance to their appearance, and each coat features a small, silver rectangular badge on the left chest area. The badge stands out against the dark fabric, proudly displaying the word 'CHAOS' in a modern, metallic font.Their hairstyles are trendy and well-groomed, reflecting the polished image often associated with performers. Their expressions are composed and engaging, with subtle smiles that suggest a sense of enjoyment and passion for their music. The lighting is dramatic, highlighting their features and creating a vibrant atmosphere typical of live performances.The stage behind them is softly blurred, allowing the focus to remain on the singers while still providing a sense of the performance setting. The background might include elements such as musical instruments, amplifiers, and other band members, as well as large screens displaying visuals that enhance the concert experience. The stage lights cast a mix of warm and cool tones across the scene, adding depth and dimension to the image.The overall composition is balanced and harmonious, with the singers positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet commanding, reflecting their comfort on stage and their connection with the audience. This image captures a moment of performance, seamlessly blending the subjects with their energetic environment and evoking a sense of excitement and the special bond between performers and their fans.", "multiline": True}),
                "MM_full": ("STRING", {"default": "Imagine a sophisticated, full-body portrait of two male celebrities standing side by side on a glamorous red carpet. They are dressed in luxurious evening attire that exudes elegance and high fashion. Each man is wearing a tailored suit, possibly in a classic black or a rich navy, with meticulously crafted details that reflect their status. Their jackets are likely adorned with subtle embellishments, such as satin lapels or intricate patterns, adding a touch of opulence to their ensembles.Their shirts are crisp and white, paired with silk ties or bow ties that match the formality of the occasion. The outfits are completed with polished dress shoes, which could be in a patent leather finish to add a glossy contrast to the suits. Their hairstyles are sleek and stylish, possibly with a modern quiff or a side-parted look that complements their refined appearance.Their expressions are confident and composed, with a hint of a smile that conveys their comfort in the spotlight. The lighting is bright and flattering, illuminating their faces and the textures of their attire, creating a sense of depth and realism.The background is a blurred vision of a bustling red carpet event, with the suggestion of a brightly lit stage and the soft glow of camera flashes. The ambiance is one of excitement and anticipation, with the hint of other attendees and perhaps the silhouette of a crowd in the distance. The stage lights cast a warm hue over the scene, enhancing the celebratory atmosphere.The overall composition is balanced, with the celebrities positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet poised, reflecting their ease in the high-profile setting. This image captures a moment of prestige and glamour, seamlessly blending the subjects with their glamorous environment and evoking a sense of the allure and allure of the red carpet experience.\nEnvision a professional full-body portrait of two male singers commanding the stage with their presence. They are dressed in a sophisticated ensemble that includes crisp white shirts, neatly tied black ties, and elegant navy blue trench coats that add a touch of classic style to their appearance. The coats are adorned with a small, silver rectangular badge on the left chest, inscribed with the word 'CHAOS' in a sleek font, adding a unique and intriguing detail to their attire.Their black trousers are tailored to perfection, complementing the formality of their white shirts and the length of their trench coats. Their footwear is likely a pair of polished black dress shoes, completing the look with an air of professionalism and star quality.The singers' hairstyles are well-groomed, reflecting the meticulous attention to detail that is often associated with performers. Their expressions are confident and engaging, with a slight smile that suggests their passion for music and their connection with the audience.The stage behind them is softly blurred, creating a bokeh effect that keeps the focus on the performers while still providing a sense of the performance setting. The background might include elements such as musical instruments, amplifiers, and other band members, as well as large screens displaying visuals that enhance the concert experience. The stage lights cast a mix of warm and cool tones across the scene, adding depth and dimension to the image.The overall composition is balanced and dynamic, with the singers positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet commanding, reflecting their comfort on stage and their connection with the audience. This image captures a moment of performance, seamlessly blending the subjects with their energetic environment and evoking a sense of excitement and the special bond between performers and their fans.\nCreate a professional full-body portrait of two male students standing side by side at the entrance of a classroom. They are dressed in smart and well-kept school uniforms that include dark-colored blazers, each adorned with the school's emblem, signifying their identity and affiliation. Underneath, they wear crisp white shirts that are neatly buttoned up, paired with loose-fitting trousers that offer a comfortable yet formal appearance.Their hairstyles are tidy and in line with school regulations, suggesting a sense of discipline and respect for the educational environment. Their faces are clear and well-lit, possibly by natural light coming from the classroom windows, highlighting their youthful features and earnest expressions.The classroom door and surrounding environment are softly blurred, creating a gentle backdrop that allows the focus to remain on the students while still providing a sense of place. The door might be slightly ajar, revealing a glimpse of the classroom interior with rows of desks and educational posters on the walls. The hallway might be lined with similar classroom doors, adding depth to the setting.The lighting is soft and even, suggesting an indoor setting with ample natural light. The overall composition is balanced, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and confident, reflecting their ease in the familiar surroundings of their school.This image captures a moment of academic life, seamlessly blending the subjects with their educational environment, and evoking a sense of youthful ambition and the camaraderie formed during school years.\nCreate a natural, full-body portrait of two men standing side by side in an indoor setting, their attire casual yet striking. Both men are wearing plain t-shirts in solid colors, with the word 'CHAOS' printed across the chest in bold, eye-catching letters. The t-shirts could be in contrasting colors, such as one in a deep black and the other in a vibrant blue, to add visual interest to the image.They are paired with loose-fitting trousers that suggest comfort and a relaxed style, possibly in neutral tones like gray or beige that complement the t-shirts. Their footwear might be casual sneakers or loafers, completing the laid-back look.Their hairstyles are modern and well-groomed, reflecting a sense of personal style and attention to detail. Their expressions are relaxed and approachable, with genuine smiles that suggest camaraderie and shared humor.The background is an indoor space, blurred to keep the focus on the subjects but still providing a sense of depth and context. The indoor setting might include elements such as bookshelves filled with books, a cozy seating area, or large windows that let in diffused natural light, adding a layer of realism to the scene.The lighting is soft and even, suggesting an indoor environment with ample natural light or well-designed artificial lighting. The overall composition is balanced, with the men positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the casual atmosphere of the setting.This image captures a moment of genuine connection between the two men, set against the backdrop of a modern, stylish indoor environment, creating a snapshot that is both personal and relatable.", "multiline": True}),
                "MM_custom": ("STRING", {"default": "Create a natural, half-body portrait of two men standing side by side in an indoor setting, their attire casual yet striking. Both men are wearing plain t-shirts in solid colors, with the word 'CHAOS' printed across the chest in bold, eye-catching letters. The t-shirts could be in contrasting colors, such as one in a deep black and the other in a vibrant red, to add visual interest to the image.Their hairstyles are modern and well-kept, reflecting a sense of style and personality. Their expressions are relaxed and approachable, with genuine smiles that suggest camaraderie and shared humor. The lighting is soft and even, highlighting their features without creating harsh shadows, giving the portrait a warm and inviting feel.The background is an indoor space, blurred to keep the focus on the subjects but still providing a sense of depth and context. The indoor setting might include elements such as bookshelves filled with books, a cozy seating area, or a large window that lets in diffused natural light, adding a layer of realism to the scene.The overall composition is balanced, with the men positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed and comfortable, reflecting their ease with each other and the casual atmosphere of the setting. The image captures a moment of genuine connection between the two men, set against the backdrop of a modern, stylish indoor environment, creating a snapshot that is both personal and relatable.\nVisualize a natural, half-body portrait of two male students standing in a classroom bathed in soft, warm sunlight. The students are dressed in crisp, clean uniforms that reflect the order and discipline of their academic environment. Their attire includes well-tailored dark blazers, each adorned with the school's emblem, symbolizing their identity and unity as members of the institution. Underneath, they wear neatly ironed white shirts, adding a classic touch to their appearance.Their hairstyles are tidy and in accordance with school standards, suggesting a sense of respect for the educational setting. Their faces are lit by the natural light streaming through the classroom windows, casting gentle shadows and highlighting their youthful features. Their expressions are earnest and attentive, with a hint of a smile that conveys their enthusiasm for learning and camaraderie with each other.The classroom background is softly blurred, creating a bokeh effect that keeps the focus on the students while still providing a sense of place. The background might include rows of desks arranged in orderly fashion, a chalkboard with mathematical equations or historical notes, and educational posters adorning the walls. The sunlight filtering through the windows casts a warm glow on the scene, enhancing the inviting atmosphere of the learning environment.The overall composition is balanced and harmonious, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet dignified, reflecting their comfort in the familiar surroundings of their classroom. This image captures a moment of academic life, seamlessly blending the subjects with their educational setting, and evoking a sense of youthful ambition and the special bond formed during school years.\nEnvision a natural, half-body portrait of two young male students from Gryffindor house, standing confidently in the ancient hallways of Hogwarts castle. They are dressed in their house's traditional uniforms, which include vibrant scarlet robes with the Gryffindor crest emblazoned on the left breast, signifying their bravery and chivalry. Underneath, they wear crisp white shirts and ties in the house colors, adding a touch of elegance to their attire.Their hairstyles are well-maintained, reflecting the grooming standards of the esteemed school, and their faces are lit by the soft, flickering glow of the torches that line the stone walls. Their expressions are a mix of determination and camaraderie, with subtle smiles that convey their pride in their house and their friendship with each other.The background is a corridor within Hogwarts, blurred to keep the focus on the students while still providing a sense of the magical environment. The stone walls are adorned with torches that cast a warm, dancing light, and magical portraits of past Hogwarts students and faculty members, which seem to be observing the scene with interest. Through the windows, the night sky is visible, punctuated by the gentle glow of floating candles that add an ethereal quality to the scene.The overall composition is balanced, with the students positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet dignified, reflecting their ease with each other and the enchanting surroundings of their school. This image captures a moment of camaraderie and the magical atmosphere of Hogwarts, blending the subjects seamlessly with their mystical environment and evoking a sense of adventure and the special bond formed during their time at the school of witchcraft and wizardry.\nVisualize a stylish, half-body portrait of two male singers standing on a stage, exuding confidence and charisma. They are dressed in a coordinated and sophisticated ensemble that includes crisp white shirts, sleek black ties, and elegant navy blue trench coats. The trench coats are a classic choice, adding a touch of timeless elegance to their appearance, and each coat features a small, silver rectangular badge on the left chest area. The badge stands out against the dark fabric, proudly displaying the word 'CHAOS' in a modern, metallic font.Their hairstyles are trendy and well-groomed, reflecting the polished image often associated with performers. Their expressions are composed and engaging, with subtle smiles that suggest a sense of enjoyment and passion for their music. The lighting is dramatic, highlighting their features and creating a vibrant atmosphere typical of live performances.The stage behind them is softly blurred, allowing the focus to remain on the singers while still providing a sense of the performance setting. The background might include elements such as musical instruments, amplifiers, and other band members, as well as large screens displaying visuals that enhance the concert experience. The stage lights cast a mix of warm and cool tones across the scene, adding depth and dimension to the image.The overall composition is balanced and harmonious, with the singers positioned naturally, perhaps with one slightly in front of the other or both facing the camera directly. Their poses are relaxed yet commanding, reflecting their comfort on stage and their connection with the audience. This image captures a moment of performance, seamlessly blending the subjects with their energetic environment and evoking a sense of excitement and the special bond between performers and their fans.", "multiline": True}),
            }
        }

# 在 PromptSelectorDoubleCHAOS 类中
    RETURN_TYPES = ("STRING", "STRING", "STRING")
    RETURN_NAMES = ("prompt", "prompt_info", "mode_name")
    FUNCTION = "select_prompt"
    CATEGORY = "utils"
    
    def select_prompt(self, mode_code, selection_mode, fixed_index, seed, 
                     **prompt_inputs) -> Tuple[str, str, str]:
        """选择提示词"""
        
        # 确保mode_code在有效范围内
        mode_code = max(0, min(15, mode_code))
        
        # 获取对应的提示词输入框名称
        input_name = self._get_input_name(mode_code)
        
        # 如果找不到对应的输入框，使用备用方案
        if input_name not in prompt_inputs:
            return ("未找到对应的提示词输入", f"错误: 未找到mode_code={mode_code}的提示词输入", self._get_mode_name(mode_code))
        
        # 获取提示词文本并分割成行
        prompt_text = prompt_inputs[input_name]
        prompt_lines = [line.strip() for line in prompt_text.split('\n') if line.strip()]
        
        if not prompt_lines:
            return ("请在对应的提示词输入框中输入至少一行提示词", "错误: 提示词为空", self._get_mode_name(mode_code))
        
        # 选择提示词
        if selection_mode == "random":
            # 设置随机种子
            if seed >= 0:
                random.seed(seed)
            
            # 随机选择提示词
            index = random.randint(0, len(prompt_lines) - 1)
            selected_prompt = prompt_lines[index]
            prompt_info = f"随机选择 ({index+1}/{len(prompt_lines)})"
        else:  # fixed
            # 固定选择提示词
            index = fixed_index % len(prompt_lines)
            selected_prompt = prompt_lines[index]
            prompt_info = f"固定选择 ({index+1}/{len(prompt_lines)})"
        
        # 添加模式信息
        mode_info = self._get_mode_info(mode_code)
        prompt_info = f"{mode_info} - {prompt_info}"
        
        # 获取模式名称
        mode_name = self._get_mode_name(mode_code)
        
        return (selected_prompt, prompt_info, mode_name)
    
    # 添加新方法来获取模式名称
    def _get_mode_name(self, mode_code: int) -> str:
        """获取模式名称"""
        mode_names = ["肖像模式", "半身模式", "全身模式", "自定义模式"]
        mode_idx = mode_code % 4
        
        if mode_idx < len(mode_names):
            return mode_names[mode_idx]
        else:
            return "未知模式"

    def _get_input_name(self, mode_code: int) -> str:
        """获取输入框名称"""
        # 定义所有可能的输入名称前缀
        prefixes = ["FF", "FM", "MF", "MM"]
        suffixes = ["portrait", "half", "full", "custom"]
        
        # 计算前缀和后缀索引
        prefix_idx = mode_code // 4
        suffix_idx = mode_code % 4
        
        # 确保索引在有效范围内
        if prefix_idx >= len(prefixes) or suffix_idx >= len(suffixes):
            return "unknown"
        
        # 构建输入名称
        return f"{prefixes[prefix_idx]}_{suffixes[suffix_idx]}"
    
    def _get_mode_info(self, mode_code: int) -> str:
        """获取模式信息描述"""
        # 定义所有可能的性别组合和模式名称
        genders = ["女性-女性", "女性-男性", "男性-女性", "男性-男性"]
        mode_names = ["肖像模式", "半身模式", "全身模式", "自定义模式"]
        
        # 计算性别和模式索引
        gender_idx = mode_code // 4
        mode_idx = mode_code % 4
        
        # 确保索引在有效范围内
        gender = genders[gender_idx] if gender_idx < len(genders) else "未知性别组合"
        mode_name = mode_names[mode_idx] if mode_idx < len(mode_names) else "未知模式"
        
        return f"{gender}-{mode_name}"

class PromptSelectorSingleCHAOS:
    """单人提示词选择器"""
    
    def __init__(self):
        pass
    
    @classmethod
    def INPUT_TYPES(cls):
        return {
            "required": {
                "mode_code": ("INT", {"default": 0, "min": 0, "max": 7, "step": 1}),  # 修改为0-7
                "selection_mode": (["random", "fixed"], {"default": "random"}),
                "fixed_index": ("INT", {"default": 0, "min": 0, "max": 2, "step": 1}),
                "seed": ("INT", {"default": -1}),
                
                # 女性提示词
                "F_portrait": ("STRING", {"default": "A professional portrait captures the captivating beauty of a young girl. Soft, diffused lighting illuminates her face, highlighting her delicate features and flawless complexion. Her eyes, full of warmth and a subtle sparkle, connect directly with the viewer. Her hair, styled with effortless grace, frames her face perfectly. Her posture is elegant and relaxed, conveying a sense of quiet confidence. She might be wearing a simple yet elegant outfit that complements her natural beauty without distracting from her captivating presence. The background is a soft, muted color, or perhaps a slightly blurred outdoor setting, creating a sense of depth and atmosphere. The overall impression is one of timeless elegance, natural beauty, and a captivating aura of poise and grace. The portrait is professionally lit and composed, showcasing her best features and creating a memorable image.\nA professional portrait captures the vibrant energy of a dynamic woman. The lighting is carefully crafted to highlight her features and create a sense of depth and dimension. Her pose is natural and confident, perhaps with a slight smile that conveys warmth and approachability. Her eyes sparkle with life, reflecting her inner vitality. Her attire, while professional, might incorporate a touch of color or a unique element that reflects her personality. The background is complementary and uncluttered, ensuring that the focus remains on the subject. The overall impression is one of confidence, competence, and a vibrant, engaging personality. The portrait goes beyond a standard headshot, capturing not just her appearance but also her energy and spirit.\nA young girl is pictured in a professional headshot, her image crisp and clear against a neutral background. Her posture is straight and her expression is neutral yet approachable, her eyes looking directly at the camera. Her hair is neatly styled, framing her face in a professional and flattering manner. She wears simple, understated attire, likely a blouse or a collared shirt, suitable for a professional setting. The lighting is even and balanced, minimizing shadows and highlighting her features. The overall impression is one of professionalism, competence, and a polished, approachable demeanor. The photo adheres to standard headshot conventions, ensuring it is suitable for official documents or professional profiles.\nA professional portrait captures the captivating beauty of a girl. Soft, diffused lighting illuminates her face, highlighting her delicate features and flawless complexion. Her eyes, full of warmth and a subtle sparkle, connect directly with the viewer. Her hair, styled with effortless grace, frames her face perfectly. Her posture is elegant and relaxed, conveying a sense of quiet confidence and inner peace. She might be wearing a simple yet elegant outfit that complements her natural beauty without distracting from her captivating presence. The background is a soft, muted color, or perhaps a slightly blurred outdoor setting, creating a sense of depth and atmosphere. The overall impression is one of timeless elegance, natural beauty, and a captivating aura of poise and grace. The portrait is professionally lit and composed, showcasing her best features and creating a memorable image.", "multiline": True}),
                "F_half": ("STRING", {"default": "A half-body portrait captures a young nurse in a crisp, form-fitting nurse's uniform. The uniform, a classic style, features a pristine white top and a short, dark-colored skirt that accentuates her figure. The image emphasizes a clean, minimalist aesthetic. The background features the subtle, out-of-focus details of a hospital setting—perhaps a hint of medical equipment or the soft glow of a hallway light—adding context without distraction. The girl's expression is calm and professional, yet her pose and the overall mood suggest a gentle, artistic sensibility rather than stark clinical sterility. Soft, natural lighting illuminates her face, highlighting her youth and natural beauty. The overall impression is one of quiet grace, professionalism, and a subtle blend of clinical precision and artistic sensitivity.\nA half-body portrait captures a girl in a crisp, form-fitting school uniform. A dark-colored short skirt accentuates her youthful figure, while the neatly pressed top conveys a sense of order and propriety. The setting is a classroom, suggesting a blend of academic life and youthful charm. The lighting is natural and soft, enhancing a sense of freshness and purity. Her hair is styled simply, possibly tied back or falling naturally, accentuating her facial features. Her expression is serene and intelligent, possibly with a subtle smile or a thoughtful gaze. The overall impression is one of youthful innocence, quiet intelligence, and a touch of artistic sensibility, capturing a moment of calm amidst the vibrancy of school life. The image evokes a feeling of nostalgic warmth, typical of coming-of-age narratives.\nA professional half-body portrait captures the captivating beauty of a woman. Soft, diffused lighting illuminates her face and upper body, highlighting her delicate features, flawless complexion, and elegant posture. Her eyes, full of warmth and a subtle sparkle, connect directly with the viewer. Her hair is styled with effortless grace, framing her face and shoulders perfectly. She wears a stylish and sophisticated outfit that complements her figure and reflects her personal style, perhaps a tailored blouse, a chic dress, or a fashionable jacket. The background is a soft, muted color, or perhaps a slightly blurred setting that adds depth and context without distracting from her presence. The overall impression is one of timeless elegance, natural beauty, and a captivating aura of poise and grace. The portrait is expertly lit and composed, showcasing her best features and creating a sophisticated and memorable image.\nA professional half-body portrait captures a stylish woman, her poise and confidence evident in her posture and expression. Soft, diffused lighting illuminates her face and upper body, highlighting her features and the textures of her clothing. Her eyes connect directly with the viewer, conveying a sense of self-assuredness and approachability. Her hair is styled impeccably, complementing her outfit and overall look. She wears a fashionable ensemble, perhaps a designer dress, a chic blazer and trousers, or a stylish combination of separates, that reflects her personal style and impeccable taste. The background is a neutral color or a subtly blurred setting that complements her attire and does not distract from her presence. The overall impression is one of sophistication, effortless style, and a captivating aura of confidence and grace. The portrait is expertly lit and composed, showcasing her best features and creating a polished and memorable image.", "multiline": True}),
                "F_full": ("STRING", {"default": "A full-body photograph captures a girl in a crisp, form-fitting school uniform. The uniform consists of a neatly pressed blouse or shirt, a short black pleated skirt, and pristine white sneakers. The overall style is clean and simple, emphasizing her youthful energy and a sense of academic freshness. Her pose is relaxed yet poised, perhaps with her hands casually at her sides or holding a book. The background is a bright, airy school classroom, with soft light streaming through windows, perhaps illuminating desks and bookshelves. The setting suggests a sense of calm studiousness and intellectual pursuit. The overall impression is one of youthful vitality, academic focus, and a clean, minimalist aesthetic. The photograph captures a sense of quiet confidence and intellectual curiosity.\nA full-body shot captures a woman with a slender figure strolling through a brightly lit shopping mall. She is dressed in a simple yet stylish outfit: a pink t-shirt, white shorts, and white sneakers. The clean lines of her attire accentuate her physique. The mall's polished marble floors reflect the bright lights, creating a glamorous setting that contrasts with the relaxed casualness of her clothes. The woman's posture is confident and relaxed; she may be window shopping, carrying bags, or simply enjoying the atmosphere. The overall impression is one of effortless chic, youthful energy, and a luxurious setting. The bright lighting and reflective surfaces add to the overall sense of glamour and vibrancy.\nA full-body selfie captures a woman in a cozy, light blue, form-fitting house dress, accented by a playful cat-themed headband and pink fluffy slippers. The setting is clearly indoors, with a warm and inviting atmosphere suggested by soft lighting and perhaps visible home décor. The image focuses on the woman, who appears relaxed and comfortable. Her expression might be playful, sweet, or simply content. The overall impression is one of comfortable domesticity, playful self-expression, and a sense of peace and contentment. The image's color palette is soft and calming, emphasizing the cozy and intimate mood.", "multiline": True}),
                "F_custom": ("STRING", {"default": "A woman of undeniable elegance moves with a grace that captivates the eye. Her posture is impeccable, her movements fluid and controlled. She carries herself with a quiet confidence, her head held high and her gaze steady. Every gesture, from the way she holds her handbag to the subtle turn of her wrist, exudes refinement and poise. Her attire, whether a flowing gown or a tailored suit, complements her graceful form and enhances her natural elegance. The overall impression is one of timeless sophistication, effortless charm, and a captivating aura of refined beauty.\nA full-body photograph captures a girl in a simple white t-shirt and jeans, exuding a clean and effortless style against the backdrop of a city street. The image is minimalist in its approach, emphasizing the subject's natural beauty and the contrast between her casual attire and the urban environment. The white t-shirt is unadorned, highlighting her natural figure. The jeans are a classic cut, fitting comfortably without being overly tight. Her hair might be styled simply, allowing her features to shine. The city street background, slightly blurred, features details like buildings, sidewalks, and perhaps hints of urban life—cars, street signs, or pedestrians—but nothing that distracts from the subject. The overall impression is one of youthful simplicity, understated elegance, and the confident ease of a modern urban aesthetic. The lighting is natural and even, highlighting the texture of the fabric and enhancing the clean lines of the image.", "multiline": True}),
                
                # 男性提示词
                "M_portrait": ("STRING", {"default": "A professional portrait captures the striking features of a handsome man. Strong, directional lighting sculpts his face, highlighting his chiseled jawline and the intensity of his gaze. His eyes, full of confidence and a subtle hint of intrigue, connect directly with the viewer. His hair is styled impeccably, adding to his overall aura of sophistication. He might be wearing a tailored suit or a more casual yet stylish outfit that complements his physique and reflects his personal style. The background is either a classic, neutral color or a subtly blurred setting that adds depth and context without distracting from his presence. The overall impression is one of masculine charisma, timeless style, and a captivating aura of self-assuredness. The portrait is expertly lit and composed, showcasing his best features and creating a powerful and memorable image.\nA professional portrait captures the striking features of a handsome Chinese man. Strong, directional lighting sculpts his face, highlighting his chiseled jawline and the intensity of his gaze. His eyes, full of confidence and a subtle hint of intrigue, connect directly with the viewer. His hair is styled impeccably, adding to his overall aura of sophistication. He might be wearing a tailored suit or a more casual yet stylish outfit that complements his physique and reflects his personal style. The background is either a classic, neutral color or a subtly blurred setting that adds depth and context without distracting from his presence. The overall impression is one of masculine charisma, timeless style, and a captivating aura of self-assuredness. The portrait is expertly lit and composed, showcasing his best features and creating a powerful and memorable image.\nA professional portrait captures the striking features of a handsome man. Strong, directional lighting sculpts his face, highlighting his chiseled jawline and the intensity of his gaze. His eyes, full of confidence and a subtle hint of intrigue, connect directly with the viewer. His hair is styled impeccably, adding to his overall aura of sophistication. He might be wearing a tailored suit or a more casual yet stylish outfit that complements his physique and reflects his personal style. The background is either a classic, neutral color or a subtly blurred setting that adds depth and context without distracting from his presence. The overall impression is one of masculine charisma, timeless style, and a captivating aura of self-assuredness. The portrait is expertly lit and composed, showcasing his best features and creating a powerful and memorable image.", "multiline": True}),
                "M_half": ("STRING", {"default": "A professional half-body portrait showcases a stylishly dressed man. He stands with an air of effortless confidence, his posture relaxed yet poised. The lighting is carefully crafted to highlight his features and the textures of his clothing, perhaps a tailored suit, a fashionable jacket and shirt combination, or a more casual yet chic ensemble. His expression is engaging and approachable, his eyes connecting directly with the viewer. The background is either a neutral color that complements his outfit or a subtly blurred setting that adds depth and context without distracting from his presence. The overall impression is one of sophisticated style, masculine charisma, and a confident, approachable demeanor. The portrait is expertly composed and lit, showcasing his impeccable taste and creating a memorable image.\nA half-body portrait captures a handsome man on a stage, poised to accept an award. He's wearing a crisp white shirt, a sharp white suit jacket, and a classic black tie – a look that is both formal and stylish. The lighting is likely dramatic, perhaps with spotlights highlighting him against a possibly blurred background of an audience or a large event space. His posture is confident and poised, suggesting success and accomplishment. His expression might be one of quiet pride or anticipation. The overall impression is one of sophisticated success, projecting power and charisma within a high-profile setting. The image's composition emphasizes his stature and success, framing him against the backdrop of his achievement.\nA half-body portrait captures a man in a relaxed yet stylish pose. He's wearing a well-fitting white shirt and comfortable, wide-legged trousers, creating a look that is both sophisticated and easygoing. The shirt might be a crisp cotton button-down or a more casual linen style; the trousers, possibly in a neutral color like beige or grey, hang loosely, accentuating a relaxed silhouette. The background is a minimalist interior – perhaps a simple, neutral-colored wall, or a sparsely decorated room with clean lines and minimal furniture. The lighting is natural and soft, enhancing the relaxed mood. The overall impression is one of effortless style and understated confidence, a portrait that conveys comfort and sophistication in equal measure.\nA professional half-body portrait showcases a man in impeccably tailored attire. The focus is on his upper body, highlighting the fit and quality of his clothing, perhaps a suit, a blazer, or a stylish combination of separates. The lighting is carefully controlled, accentuating the textures and details of his clothing and emphasizing his strong posture and confident demeanor. His expression is direct and engaging, his eyes connecting with the viewer. The background is clean and uncluttered, a neutral color or a subtly textured surface that complements his attire without distracting from his presence. The overall impression is one of sophistication, style, and attention to detail. The portrait exudes an air of confidence and success, making a powerful statement about the man's personal brand and professional presence.", "multiline": True}),
                "M_full": ("STRING", {"default": "Envision a striking fashion editorial with a model exuding a blend of sophistication and modernity. He is clad in a luxurious dark blue velvet suit with a unique marbled pattern that adds an artistic touch to his ensemble. Underneath, he wears a cozy, textured blue sweater that complements the suit's rich hue. His look is completed with a pair of matching velvet trousers that maintain the outfit's cohesive aesthetic. In his grasp, he holds a sleek, white leather briefcase with silver hardware, suggesting a blend of professional and stylish elements.He is wearing a pair of black fashionable shoes. The backdrop is a minimalist white wall, allowing the focus to remain on the model and his attire. The lighting casts a soft shadow, enhancing the dramatic effect and highlighting the textures of his outfit. This scene is perfect for a high-end fashion magazine spread, emphasizing elegance and contemporary style.\nA full-body portrait captures a man exuding effortless elegance and refined style. He is impeccably dressed in a well-tailored suit, perhaps a classic navy or charcoal grey, or a more contemporary ensemble that speaks to sophisticated taste. His posture is confident and poised, conveying an air of authority and self-assurance. The background is understated yet elegant—perhaps a neutral backdrop, a subtly textured wall, or a luxurious, yet uncluttered interior that complements his sophisticated attire without distracting from his presence. The lighting is expertly controlled, enhancing the texture of his clothing and the details of his features. His expression is calm and composed, reflecting inner strength and quiet confidence. The overall impression is one of timeless elegance, understated power, and refined masculinity. The photograph is meticulously composed and expertly lit, capturing the essence of sophisticated masculinity.\nA full-body photograph captures a man exuding intelligence and quiet confidence. He is dressed in a tailored school uniform, the fit highlighting his physique without being restrictive. The uniform, perhaps a dark blazer and trousers, is impeccably pressed, suggesting attention to detail and a disciplined nature. He wears clean white sneakers, adding a touch of modern casualness to the otherwise formal attire. His posture is upright, but not stiff, reflecting a blend of self-assurance and approachability. The background subtly features a school setting—perhaps a quiet hallway, a sunlit courtyard, or a portion of a library—adding context without distracting from the subject. His gaze might be directed slightly away from the camera, adding a contemplative quality. The overall impression is one of thoughtful intellect, understated style, and quiet strength. The photograph evokes a sense of academic achievement and thoughtful contemplation.\nA full-body shot captures a handsome man standing confidently on an awards stage, bathed in the spotlight. He's impeccably dressed in a crisp white shirt, a sharp white suit jacket, a classic black tie, and dark trousers, complemented by polished brown leather shoes. The clean lines of his suit and the stark contrast of the white shirt and black tie create a powerful, sophisticated image. He holds a microphone, poised to speak, his expression confident and poised. The background is blurred but suggests the grandeur of an awards ceremony – perhaps a large audience or a backdrop with sponsor logos. The lighting accentuates his figure and the texture of his suit. The overall impression is one of success, accomplishment, and polished professionalism. The image conveys power, charisma, and the gravitas of a momentous occasion.\nElegantly poised on a luxurious red carpet, a dashing gentleman stands confidently. He is adorned in a sophisticated deep blue velvet blazer, paired with sleek black trousers that accentuate his refined silhouette. His crisp white shirt is complemented by a classic black bow tie, adding a touch of timeless elegance. The backdrop is a sophisticated black wall, embellished with framed golden gramophone awards that gleam subtly, reflecting the prestige of the event. The overall ambiance is one of grandeur and celebration, capturing the essence of a high-profile gala.", "multiline": True}),
                "M_custom": ("STRING", {"default": "A man of undeniable elegance stands with an air of quiet confidence. His posture is impeccable, his movements fluid and graceful. He carries himself with a sense of refinement, his every gesture exudes poise and sophistication. His attire, whether a tailored suit or impeccably chosen casual wear, complements his refined demeanor. His expression is composed and thoughtful, his eyes reflecting intelligence and a deep understanding of the world around him. The overall impression is one of timeless grace, effortless charm, and a quiet power that commands respect.\nA full-body portrait captures a man exuding effortless elegance and refined style. He is impeccably dressed in a well-tailored suit, perhaps a classic navy or charcoal grey, or a more contemporary ensemble that speaks to sophisticated taste. His posture is confident and poised, conveying an air of authority and self-assurance. The background is understated yet elegant—perhaps a neutral backdrop, a subtly textured wall, or a luxurious, yet uncluttered interior that complements his sophisticated attire without distracting from his presence. The lighting is expertly controlled, enhancing the texture of his clothing and the details of his features. His expression is calm and composed, reflecting inner strength and quiet confidence. The overall impression is one of timeless elegance, understated power, and refined masculinity. The photograph is meticulously composed and expertly lit, capturing the essence of sophisticated masculinity.\nA full-body photograph captures a man exuding intelligence and quiet confidence. He is dressed in a tailored school uniform, the fit highlighting his physique without being restrictive. The uniform, perhaps a dark blazer and trousers, is impeccably pressed, suggesting attention to detail and a disciplined nature. He wears clean white sneakers, adding a touch of modern casualness to the otherwise formal attire. His posture is upright, but not stiff, reflecting a blend of self-assurance and approachability. The background subtly features a school setting—perhaps a quiet hallway, a sunlit courtyard, or a portion of a library—adding context without distracting from the subject. His gaze might be directed slightly away from the camera, adding a contemplative quality. The overall impression is one of thoughtful intellect, understated style, and quiet strength. The photograph evokes a sense of academic achievement and thoughtful contemplation.\nA full-body shot captures a handsome man standing confidently on an awards stage, bathed in the spotlight. He's impeccably dressed in a crisp white shirt, a sharp white suit jacket, a classic black tie, and dark trousers, complemented by polished brown leather shoes. The clean lines of his suit and the stark contrast of the white shirt and black tie create a powerful, sophisticated image. He holds a microphone, poised to speak, his expression confident and poised. The background is blurred but suggests the grandeur of an awards ceremony – perhaps a large audience or a backdrop with sponsor logos. The lighting accentuates his figure and the texture of his suit. The overall impression is one of success, accomplishment, and polished professionalism. The image conveys power, charisma, and the gravitas of a momentous occasion.\nA full-body shot captures a charismatic rapper commanding a stage bathed in the dramatic lighting of a hip-hop concert. He's dressed entirely in black—a black hoodie, a black leather jacket, black jeans, and black shoes—a monochromatic look punctuated by a gleaming gold necklace. A black hat sits low on his forehead, adding to his edgy persona. He holds a microphone, poised to deliver his lyrics, his posture radiating confidence and swagger. The background suggests the energy of a live hip-hop performance, possibly with a blurred crowd and dramatic stage lighting. The overall impression is one of raw energy, urban cool, and undeniable stage presence. The image conveys the power and charisma of a hip-hop artist, capturing a moment of intense performance and the artist's unique style.", "multiline": True}),
            }
        }

    # 修改返回类型和名称，与 PromptSelectorDoubleCHAOS 保持一致
    RETURN_TYPES = ("STRING", "STRING", "STRING")
    RETURN_NAMES = ("prompt", "prompt_info", "mode_name")
    FUNCTION = "select_prompt"
    CATEGORY = "utils"
    
    # 修改 select_prompt 方法，参考 PromptSelectorDoubleCHAOS 的实现
    def select_prompt(self, mode_code, selection_mode, fixed_index, seed, 
                     **prompt_inputs) -> Tuple[str, str, str]:
        """选择提示词"""
        
        # 确保mode_code在有效范围内
        mode_code = max(0, min(7, mode_code))
        
        # 获取对应的提示词输入框名称
        input_name = self._get_input_name(mode_code)
        
        # 如果找不到对应的输入框，使用备用方案
        if input_name not in prompt_inputs:
            return ("未找到对应的提示词输入", f"错误: 未找到mode_code={mode_code}的提示词输入", self._get_mode_name(mode_code))
        
        # 获取提示词文本并分割成行
        prompt_text = prompt_inputs[input_name]
        prompt_lines = [line.strip() for line in prompt_text.split('\n') if line.strip()]
        
        if not prompt_lines:
            return ("请在对应的提示词输入框中输入至少一行提示词", "错误: 提示词为空", self._get_mode_name(mode_code))
        
     
        
        # 选择提示词
        if selection_mode == "random":
            # 设置随机种子
            if seed >= 0:
                random.seed(seed)
            else:
                seed = random.randint(0, 2**31)
                random.seed(seed)
            
            # 随机选择提示词
            index = random.randint(0, len(prompt_lines) - 1)
            selected_prompt = prompt_lines[index]
            prompt_info = f"随机选择 ({index+1}/{len(prompt_lines)})"
        else:  # fixed
            # 固定选择提示词
            index = fixed_index % len(prompt_lines)
            selected_prompt = prompt_lines[index]
            prompt_info = f"固定选择 ({index+1}/{len(prompt_lines)})"
        
        # 添加模式信息
        mode_info = self._get_mode_info(mode_code)
        prompt_info = f"{mode_info} - {prompt_info}"
        
        # 获取模式名称
        mode_name = self._get_mode_name(mode_code)
        
        return (selected_prompt, prompt_info, mode_name)
    
    def _get_mode_name(self, mode_code: int) -> str:
        """获取模式名称"""
        mode_names = ["肖像模式", "半身模式", "全身模式", "自定义模式"]
        mode_idx = mode_code % 4
        
        if mode_idx < len(mode_names):
            return mode_names[mode_idx]
        else:
            return "未知模式"

    def _get_input_name(self, mode_code: int) -> str:
        """获取输入框名称"""
        # 定义所有可能的输入名称前缀
        prefixes = ["F", "M"]
        suffixes = ["portrait", "half", "full", "custom"]
        
        # 计算前缀和后缀索引
        prefix_idx = mode_code // 4
        suffix_idx = mode_code % 4
        
        # 确保索引在有效范围内
        if prefix_idx >= len(prefixes) or suffix_idx >= len(suffixes):
            return "unknown"
        
        # 构建输入名称
        return f"{prefixes[prefix_idx]}_{suffixes[suffix_idx]}"
    
    def _get_mode_info(self, mode_code: int) -> str:
        """获取模式信息描述"""
        # 定义所有可能的性别和模式名称
        genders = ["女性", "男性"]
        mode_names = ["肖像模式", "半身模式", "全身模式", "自定义模式"]
        
        # 计算性别和模式索引
        gender_idx = mode_code // 4
        mode_idx = mode_code % 4
        
        # 确保索引在有效范围内
        gender = genders[gender_idx] if gender_idx < len(genders) else "未知性别"
        mode_name = mode_names[mode_idx] if mode_idx < len(mode_names) else "未知模式"
        
        return f"{gender}-{mode_name}"